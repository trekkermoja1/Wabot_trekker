const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

async function animateEmoji(sock, chatId, msg, emojis) {
    const { key } = msg;
    
    for (let i = 0; i < emojis.length; i++) {
        await sock.sendMessage(chatId, { edit: key, text: emojis[i] });
        await delay(800);
    }
}

const funCommands = {
    'happy': ['ðŸ˜‚', 'ðŸ¤£', 'ðŸ˜', 'ðŸ˜…', 'ðŸ˜†', 'ðŸ˜Š'],
    'joy': ['âœ¨', 'ðŸŽŠ', 'ðŸŽ‰', 'ðŸŽˆ', 'ðŸ¥³', 'â­'],
    'fuck': ['ðŸ–•', 'ðŸ˜¡', 'ðŸ¤¬', 'ðŸ’¢', 'ðŸ˜¤', 'ðŸ‘¿'],
    'horny': ['ðŸ‘', 'ðŸ’¦', 'ðŸ¤¤', 'ðŸ˜', 'ðŸ†', 'ðŸ«¦'],
    'crazy': ['ðŸ¤ª', 'ðŸŒ€', 'ðŸ¤¯', 'ðŸ˜µâ€ðŸ’«', 'ðŸ‘½', 'ðŸ‘¾'],
    'cool': ['ðŸ˜Ž', 'ðŸ§Š', 'â„ï¸', 'ðŸ¤™', 'ðŸ”¥', 'âš¡'],
    'tired': ['ðŸ˜´', 'ðŸ¥±', 'ðŸ’¤', 'ðŸ›Œ', 'ðŸ˜«', 'ðŸ’¨'],
    'laugh': ['ðŸ˜†', 'ðŸ˜„', 'ðŸ˜ƒ', 'ðŸ˜€', 'ðŸ˜‚', 'ðŸ’€'],
    'sad': ['ðŸ˜¢', 'ðŸ˜­', 'â˜¹ï¸', 'ðŸ˜ž', 'ðŸ’”', 'ðŸ¥€'],
    'love': ['â¤ï¸', 'ðŸ’–', 'ðŸ’—', 'ðŸ’“', 'ðŸ’', 'ðŸ’˜'],
    'fire': ['ðŸ”¥', 'ðŸ’¥', 'ðŸ§¨', 'ðŸŒ‹', 'ðŸ’£', 'ðŸš’'],
    'party': ['ðŸ¥³', 'ðŸ’ƒ', 'ðŸ•º', 'ðŸŽ¶', 'ðŸŽµ', 'ðŸŽ¹'],
    'scared': ['ðŸ˜±', 'ðŸ˜¨', 'ðŸ˜°', 'ðŸ‘»', 'ðŸ‘º', 'ðŸ‘¹'],
    'angry': ['ðŸ˜ ', 'ðŸ˜¡', 'ðŸ¤¬', 'ðŸ‘º', 'ðŸ’¢', 'ðŸ‘Š'],
    'strong': ['ðŸ’ª', 'ðŸ‹ï¸', 'ðŸ¥Š', 'ðŸ”¥', 'ðŸ¦', 'ðŸ†'],
    'money': ['ðŸ’°', 'ðŸ’µ', 'ðŸ’¸', 'ðŸ¦', 'ðŸ’Ž', 'ðŸ’³'],
    'drink': ['ðŸº', 'ðŸ»', 'ðŸ¥‚', 'ðŸ·', 'ðŸ¹', 'ðŸ¥¤'],
    'food': ['ðŸ•', 'ðŸ”', 'ðŸŸ', 'ðŸŒ®', 'ðŸ£', 'ðŸ¦'],
    'sick': ['ðŸ¤¢', 'ðŸ¤®', 'ðŸ¤’', 'ðŸ¤•', 'ðŸ¥', 'ðŸš‘'],
    'smart': ['ðŸ§ ', 'ðŸ§', 'ðŸ“–', 'ðŸŽ“', 'ðŸ§ª', 'ðŸ’¡'],
    'dance': ['ðŸ’ƒ', 'ðŸ•º', 'ðŸ‘¯', 'ðŸŽ¼', 'ðŸŽ»', 'ðŸŽ¸'],
    'magic': ['ðŸª„', 'ðŸ§™', 'ðŸ”®', 'âœ¨', 'ðŸ§¿', 'ðŸ¦„'],
    'gamer': ['ðŸŽ®', 'ðŸ•¹ï¸', 'ðŸ‘¾', 'ðŸ’»', 'âŒ¨ï¸', 'ðŸ–±ï¸'],
    'ninja': ['ðŸ¥·', 'âš”ï¸', 'ðŸ—¡ï¸', 'ðŸŒ‘', 'ðŸ®', 'ðŸ¯'],
    'alien': ['ðŸ‘½', 'ðŸ›¸', 'ðŸš€', 'ðŸŒŒ', 'â˜„ï¸', 'ðŸª']
};

async function handleFunCommand(sock, chatId, msg, command) {
    const emojis = funCommands[command.toLowerCase()];
    if (emojis) {
        await animateEmoji(sock, chatId, msg, emojis);
        return true;
    }
    return false;
}

module.exports = {
    handleFunCommand,
    funCommands: Object.keys(funCommands)
};